---
title     : "Isomorphism: Isomorphism and Embedding"
layout    : page
permalink : /Isomorphism/
---

<pre class="Agda">{% raw %}<a id="119" class="Keyword">module</a> <a id="126" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}" class="Module">plfa.Isomorphism</a> <a id="143" class="Keyword">where</a>{% endraw %}</pre>

This section introduces isomorphism as a way of asserting that two
types are equal, and embedding as a way of asserting that one type is
smaller than another.  We apply isomorphisms in the next chapter
to demonstrate that operations on types such as product and sum
satisfy properties akin to associativity, commutativity, and
distributivity.

## Imports

<pre class="Agda">{% raw %}<a id="530" class="Keyword">import</a> <a id="537" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="575" class="Symbol">as</a> <a id="578" class="Module">Eq</a>
<a id="581" class="Keyword">open</a> <a id="586" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html" class="Module">Eq</a> <a id="589" class="Keyword">using</a> <a id="595" class="Symbol">(</a><a id="596" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="599" class="Symbol">;</a> <a id="601" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="605" class="Symbol">;</a> <a id="607" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#560" class="Function">sym</a><a id="610" class="Symbol">;</a> <a id="612" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#627" class="Function">trans</a><a id="617" class="Symbol">;</a> <a id="619" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a><a id="623" class="Symbol">;</a> <a id="625" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1179" class="Function">cong-app</a><a id="633" class="Symbol">)</a>
<a id="635" class="Keyword">open</a> <a id="640" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#3861" class="Module">Eq.≡-Reasoning</a>
<a id="655" class="Keyword">open</a> <a id="660" class="Keyword">import</a> <a id="667" href="https://agda.github.io/agda-stdlib/Data.Nat.html" class="Module">Data.Nat</a> <a id="676" class="Keyword">using</a> <a id="682" class="Symbol">(</a><a id="683" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="684" class="Symbol">;</a> <a id="686" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a><a id="690" class="Symbol">;</a> <a id="692" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a><a id="695" class="Symbol">;</a> <a id="697" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#230" class="Primitive Operator">_+_</a><a id="700" class="Symbol">)</a>
<a id="702" class="Keyword">open</a> <a id="707" class="Keyword">import</a> <a id="714" href="https://agda.github.io/agda-stdlib/Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a> <a id="734" class="Keyword">using</a> <a id="740" class="Symbol">(</a><a id="741" href="https://agda.github.io/agda-stdlib/Data.Nat.Properties.html#8115" class="Function">+-comm</a><a id="747" class="Symbol">)</a>{% endraw %}</pre>


## Lambda expressions

The chapter begins with a few preliminaries that will be useful
here and elsewhere: lambda expressions, function composition, and
extensionality.

*Lambda expressions* provide a compact way to define functions without
naming them.  A term of the form

    λ{ P₁ → N₁; ⋯ ; Pᵢ → Nᵢ }

is equivalent to a function `f` defined by the equations

    f P₁ = e₁
    ⋯
    f Pᵢ = eᵢ

where the `Pᵢ` are patterns (left-hand sides of an equation) and the
`Nᵢ` are expressions (right-hand side of an equation).

In the case that there is one equation and the pattern is a variable,
we may also use the syntax

    λ x → N

or

    λ (x : A) → N

both of which are equivalent to `λ{x → N}`. The latter allows one to
specify the domain of the function.

Often using an anonymous lambda expression is more convenient than
using a named function: it avoids a lengthy type declaration; and the
definition appears exactly where the function is used, so there is no
need for the writer to remember to declare it in advance, or for the
reader to search for the definition elsewhere in the code.


## Function composition

In what follows, we will make use of function composition.
<pre class="Agda">{% raw %}<a id="_∘_"></a><a id="1960" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#1960" class="Function Operator">_∘_</a> <a id="1964" class="Symbol">:</a> <a id="1966" class="Symbol">∀</a> <a id="1968" class="Symbol">{</a><a id="1969" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#1969" class="Bound">A</a> <a id="1971" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#1971" class="Bound">B</a> <a id="1973" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#1973" class="Bound">C</a> <a id="1975" class="Symbol">:</a> <a id="1977" class="PrimitiveType">Set</a><a id="1980" class="Symbol">}</a> <a id="1982" class="Symbol">→</a> <a id="1984" class="Symbol">(</a><a id="1985" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#1971" class="Bound">B</a> <a id="1987" class="Symbol">→</a> <a id="1989" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#1973" class="Bound">C</a><a id="1990" class="Symbol">)</a> <a id="1992" class="Symbol">→</a> <a id="1994" class="Symbol">(</a><a id="1995" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#1969" class="Bound">A</a> <a id="1997" class="Symbol">→</a> <a id="1999" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#1971" class="Bound">B</a><a id="2000" class="Symbol">)</a> <a id="2002" class="Symbol">→</a> <a id="2004" class="Symbol">(</a><a id="2005" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#1969" class="Bound">A</a> <a id="2007" class="Symbol">→</a> <a id="2009" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#1973" class="Bound">C</a><a id="2010" class="Symbol">)</a>
<a id="2012" class="Symbol">(</a><a id="2013" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2013" class="Bound">g</a> <a id="2015" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#1960" class="Function Operator">∘</a> <a id="2017" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2017" class="Bound">f</a><a id="2018" class="Symbol">)</a> <a id="2020" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2020" class="Bound">x</a>  <a id="2023" class="Symbol">=</a> <a id="2025" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2013" class="Bound">g</a> <a id="2027" class="Symbol">(</a><a id="2028" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2017" class="Bound">f</a> <a id="2030" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2020" class="Bound">x</a><a id="2031" class="Symbol">)</a>{% endraw %}</pre>
Thus, `g ∘ f` is the function that first applies `f` and
then applies `g`.  An equivalent definition, exploiting lambda
expressions, is as follows.
<pre class="Agda">{% raw %}<a id="_∘′_"></a><a id="2205" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2205" class="Function Operator">_∘′_</a> <a id="2210" class="Symbol">:</a> <a id="2212" class="Symbol">∀</a> <a id="2214" class="Symbol">{</a><a id="2215" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2215" class="Bound">A</a> <a id="2217" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2217" class="Bound">B</a> <a id="2219" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2219" class="Bound">C</a> <a id="2221" class="Symbol">:</a> <a id="2223" class="PrimitiveType">Set</a><a id="2226" class="Symbol">}</a> <a id="2228" class="Symbol">→</a> <a id="2230" class="Symbol">(</a><a id="2231" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2217" class="Bound">B</a> <a id="2233" class="Symbol">→</a> <a id="2235" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2219" class="Bound">C</a><a id="2236" class="Symbol">)</a> <a id="2238" class="Symbol">→</a> <a id="2240" class="Symbol">(</a><a id="2241" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2215" class="Bound">A</a> <a id="2243" class="Symbol">→</a> <a id="2245" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2217" class="Bound">B</a><a id="2246" class="Symbol">)</a> <a id="2248" class="Symbol">→</a> <a id="2250" class="Symbol">(</a><a id="2251" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2215" class="Bound">A</a> <a id="2253" class="Symbol">→</a> <a id="2255" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2219" class="Bound">C</a><a id="2256" class="Symbol">)</a>
<a id="2258" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2258" class="Bound">g</a> <a id="2260" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2205" class="Function Operator">∘′</a> <a id="2263" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2263" class="Bound">f</a>  <a id="2266" class="Symbol">=</a>  <a id="2269" class="Symbol">λ</a> <a id="2271" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2271" class="Bound">x</a> <a id="2273" class="Symbol">→</a> <a id="2275" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2258" class="Bound">g</a> <a id="2277" class="Symbol">(</a><a id="2278" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2263" class="Bound">f</a> <a id="2280" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2271" class="Bound">x</a><a id="2281" class="Symbol">)</a>{% endraw %}</pre>


## Extensionality {#extensionality}

Extensionality asserts that the only way to distinguish functions is
by applying them; if two functions applied to the same argument always
yield the same result, then they are the same functions.  It is the
converse of `cong-app`, as introduced
[earlier]({{ site.baseurl }}{% link out/plfa/Equality.md %}/#cong).

Agda does not presume extensionality, but we can postulate that it holds.
<pre class="Agda">{% raw %}<a id="2735" class="Keyword">postulate</a>
  <a id="extensionality"></a><a id="2747" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2747" class="Postulate">extensionality</a> <a id="2762" class="Symbol">:</a> <a id="2764" class="Symbol">∀</a> <a id="2766" class="Symbol">{</a><a id="2767" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2767" class="Bound">A</a> <a id="2769" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2769" class="Bound">B</a> <a id="2771" class="Symbol">:</a> <a id="2773" class="PrimitiveType">Set</a><a id="2776" class="Symbol">}</a> <a id="2778" class="Symbol">{</a><a id="2779" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2779" class="Bound">f</a> <a id="2781" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2781" class="Bound">g</a> <a id="2783" class="Symbol">:</a> <a id="2785" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2767" class="Bound">A</a> <a id="2787" class="Symbol">→</a> <a id="2789" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2769" class="Bound">B</a><a id="2790" class="Symbol">}</a> <a id="2792" class="Symbol">→</a> <a id="2794" class="Symbol">(∀</a> <a id="2797" class="Symbol">(</a><a id="2798" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2798" class="Bound">x</a> <a id="2800" class="Symbol">:</a> <a id="2802" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2767" class="Bound">A</a><a id="2803" class="Symbol">)</a> <a id="2805" class="Symbol">→</a> <a id="2807" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2779" class="Bound">f</a> <a id="2809" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2798" class="Bound">x</a> <a id="2811" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="2813" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2781" class="Bound">g</a> <a id="2815" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2798" class="Bound">x</a><a id="2816" class="Symbol">)</a> <a id="2818" class="Symbol">→</a> <a id="2820" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2779" class="Bound">f</a> <a id="2822" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="2824" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2781" class="Bound">g</a>{% endraw %}</pre>
Postulating extensionality does not lead to difficulties, as it is
known to be consistent with the theory that underlies Agda.

As an example, consider that we need results from two libraries,
one where addition is defined as in
Chapter [Naturals]({{ site.baseurl }}{% link out/plfa/Naturals.md %})
and one where it is defined the other way around.
<pre class="Agda">{% raw %}<a id="_+′_"></a><a id="3199" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3199" class="Function Operator">_+′_</a> <a id="3204" class="Symbol">:</a> <a id="3206" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="3208" class="Symbol">→</a> <a id="3210" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="3212" class="Symbol">→</a> <a id="3214" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a>
<a id="3216" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3216" class="Bound">m</a> <a id="3218" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3199" class="Function Operator">+′</a> <a id="3221" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a>  <a id="3227" class="Symbol">=</a> <a id="3229" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3216" class="Bound">m</a>
<a id="3231" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3231" class="Bound">m</a> <a id="3233" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3199" class="Function Operator">+′</a> <a id="3236" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3240" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3240" class="Bound">n</a> <a id="3242" class="Symbol">=</a> <a id="3244" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3248" class="Symbol">(</a><a id="3249" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3231" class="Bound">m</a> <a id="3251" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3199" class="Function Operator">+′</a> <a id="3254" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3240" class="Bound">n</a><a id="3255" class="Symbol">)</a>{% endraw %}</pre>
Applying commutativity, it is easy to show that both operators always
return the same result given the same arguments.
<pre class="Agda">{% raw %}<a id="same-app"></a><a id="3400" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3400" class="Function">same-app</a> <a id="3409" class="Symbol">:</a> <a id="3411" class="Symbol">∀</a> <a id="3413" class="Symbol">(</a><a id="3414" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3414" class="Bound">m</a> <a id="3416" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3416" class="Bound">n</a> <a id="3418" class="Symbol">:</a> <a id="3420" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="3421" class="Symbol">)</a> <a id="3423" class="Symbol">→</a> <a id="3425" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3414" class="Bound">m</a> <a id="3427" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3199" class="Function Operator">+′</a> <a id="3430" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3416" class="Bound">n</a> <a id="3432" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="3434" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3414" class="Bound">m</a> <a id="3436" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="3438" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3416" class="Bound">n</a>
<a id="3440" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3400" class="Function">same-app</a> <a id="3449" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3449" class="Bound">m</a> <a id="3451" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3451" class="Bound">n</a> <a id="3453" class="Keyword">rewrite</a> <a id="3461" href="https://agda.github.io/agda-stdlib/Data.Nat.Properties.html#8115" class="Function">+-comm</a> <a id="3468" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3449" class="Bound">m</a> <a id="3470" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3451" class="Bound">n</a> <a id="3472" class="Symbol">=</a> <a id="3474" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3495" class="Function">helper</a> <a id="3481" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3449" class="Bound">m</a> <a id="3483" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3451" class="Bound">n</a>
  <a id="3487" class="Keyword">where</a>
  <a id="3495" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3495" class="Function">helper</a> <a id="3502" class="Symbol">:</a> <a id="3504" class="Symbol">∀</a> <a id="3506" class="Symbol">(</a><a id="3507" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3507" class="Bound">m</a> <a id="3509" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3509" class="Bound">n</a> <a id="3511" class="Symbol">:</a> <a id="3513" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="3514" class="Symbol">)</a> <a id="3516" class="Symbol">→</a> <a id="3518" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3507" class="Bound">m</a> <a id="3520" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3199" class="Function Operator">+′</a> <a id="3523" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3509" class="Bound">n</a> <a id="3525" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="3527" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3509" class="Bound">n</a> <a id="3529" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="3531" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3507" class="Bound">m</a>
  <a id="3535" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3495" class="Function">helper</a> <a id="3542" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3542" class="Bound">m</a> <a id="3544" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a>    <a id="3552" class="Symbol">=</a> <a id="3554" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
  <a id="3561" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3495" class="Function">helper</a> <a id="3568" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3568" class="Bound">m</a> <a id="3570" class="Symbol">(</a><a id="3571" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3575" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3575" class="Bound">n</a><a id="3576" class="Symbol">)</a> <a id="3578" class="Symbol">=</a> <a id="3580" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="3585" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="3589" class="Symbol">(</a><a id="3590" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3495" class="Function">helper</a> <a id="3597" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3568" class="Bound">m</a> <a id="3599" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3575" class="Bound">n</a><a id="3600" class="Symbol">)</a>{% endraw %}</pre>
However, it might be convenient to assert that the two operators are
actually indistinguishable. This we can do via two applications of
extensionality.
<pre class="Agda">{% raw %}<a id="same"></a><a id="3778" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3778" class="Function">same</a> <a id="3783" class="Symbol">:</a> <a id="3785" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3199" class="Function Operator">_+′_</a> <a id="3790" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="3792" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Nat.html#230" class="Primitive Operator">_+_</a>
<a id="3796" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3778" class="Function">same</a> <a id="3801" class="Symbol">=</a> <a id="3803" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2747" class="Postulate">extensionality</a> <a id="3818" class="Symbol">(λ</a> <a id="3821" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3821" class="Bound">m</a> <a id="3823" class="Symbol">→</a> <a id="3825" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#2747" class="Postulate">extensionality</a> <a id="3840" class="Symbol">(λ</a> <a id="3843" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3843" class="Bound">n</a> <a id="3845" class="Symbol">→</a> <a id="3847" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3400" class="Function">same-app</a> <a id="3856" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3821" class="Bound">m</a> <a id="3858" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#3843" class="Bound">n</a><a id="3859" class="Symbol">))</a>{% endraw %}</pre>
We will occasionally need to postulate extensionality in what follows.


## Isomorphism

Two sets are isomorphic if they are in one-to-one correspondence.
Here is a formal definition of isomorphism.
<pre class="Agda">{% raw %}<a id="4085" class="Keyword">infix</a> <a id="4091" class="Number">0</a> <a id="4093" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4104" class="Record Operator">_≃_</a>
<a id="4097" class="Keyword">record</a> <a id="_≃_"></a><a id="4104" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4104" class="Record Operator">_≃_</a> <a id="4108" class="Symbol">(</a><a id="4109" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4109" class="Bound">A</a> <a id="4111" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4111" class="Bound">B</a> <a id="4113" class="Symbol">:</a> <a id="4115" class="PrimitiveType">Set</a><a id="4118" class="Symbol">)</a> <a id="4120" class="Symbol">:</a> <a id="4122" class="PrimitiveType">Set</a> <a id="4126" class="Keyword">where</a>
  <a id="4134" class="Keyword">field</a>
    <a id="_≃_.to"></a><a id="4144" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4144" class="Field">to</a>   <a id="4149" class="Symbol">:</a> <a id="4151" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4109" class="Bound">A</a> <a id="4153" class="Symbol">→</a> <a id="4155" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4111" class="Bound">B</a>
    <a id="_≃_.from"></a><a id="4161" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4161" class="Field">from</a> <a id="4166" class="Symbol">:</a> <a id="4168" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4111" class="Bound">B</a> <a id="4170" class="Symbol">→</a> <a id="4172" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4109" class="Bound">A</a>
    <a id="_≃_.from∘to"></a><a id="4178" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4178" class="Field">from∘to</a> <a id="4186" class="Symbol">:</a> <a id="4188" class="Symbol">∀</a> <a id="4190" class="Symbol">(</a><a id="4191" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4191" class="Bound">x</a> <a id="4193" class="Symbol">:</a> <a id="4195" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4109" class="Bound">A</a><a id="4196" class="Symbol">)</a> <a id="4198" class="Symbol">→</a> <a id="4200" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4161" class="Field">from</a> <a id="4205" class="Symbol">(</a><a id="4206" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4144" class="Field">to</a> <a id="4209" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4191" class="Bound">x</a><a id="4210" class="Symbol">)</a> <a id="4212" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="4214" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4191" class="Bound">x</a>
    <a id="_≃_.to∘from"></a><a id="4220" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4220" class="Field">to∘from</a> <a id="4228" class="Symbol">:</a> <a id="4230" class="Symbol">∀</a> <a id="4232" class="Symbol">(</a><a id="4233" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4233" class="Bound">y</a> <a id="4235" class="Symbol">:</a> <a id="4237" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4111" class="Bound">B</a><a id="4238" class="Symbol">)</a> <a id="4240" class="Symbol">→</a> <a id="4242" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4144" class="Field">to</a> <a id="4245" class="Symbol">(</a><a id="4246" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4161" class="Field">from</a> <a id="4251" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4233" class="Bound">y</a><a id="4252" class="Symbol">)</a> <a id="4254" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="4256" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4233" class="Bound">y</a>
<a id="4258" class="Keyword">open</a> <a id="4263" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4104" class="Module Operator">_≃_</a>{% endraw %}</pre>
Let's unpack the definition. An isomorphism between sets `A` and `B` consists
of four things:
+ A function `to` from `A` to `B`,
+ A function `from` from `B` back to `A`,
+ Evidence `from∘to` asserting that `from` is a *right-identity* for `to`,
+ Evidence `to∘from` asserting that `to` is a *left-identity* for `from`.
In particular, the third asserts that `from ∘ to` is the identity, and
the fourth that `to ∘ from` is the identity, hence the names.
The declaration `open _≃_` makes available the names `to`, `from`,
`from∘to`, and `to∘from`, otherwise we would need to write `_≃_.to` and so on.

The above is our first use of records. A record declaration is equivalent
to a corresponding inductive data declaration.
<pre class="Agda">{% raw %}<a id="5012" class="Keyword">data</a> <a id="_≃′_"></a><a id="5017" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5017" class="Datatype Operator">_≃′_</a> <a id="5022" class="Symbol">(</a><a id="5023" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5023" class="Bound">A</a> <a id="5025" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5025" class="Bound">B</a> <a id="5027" class="Symbol">:</a> <a id="5029" class="PrimitiveType">Set</a><a id="5032" class="Symbol">):</a> <a id="5035" class="PrimitiveType">Set</a> <a id="5039" class="Keyword">where</a>
  <a id="_≃′_.mk-≃′"></a><a id="5047" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5047" class="InductiveConstructor">mk-≃′</a> <a id="5053" class="Symbol">:</a> <a id="5055" class="Symbol">∀</a> <a id="5057" class="Symbol">(</a><a id="5058" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5058" class="Bound">to</a> <a id="5061" class="Symbol">:</a> <a id="5063" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5023" class="Bound">A</a> <a id="5065" class="Symbol">→</a> <a id="5067" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5025" class="Bound">B</a><a id="5068" class="Symbol">)</a> <a id="5070" class="Symbol">→</a>
          <a id="5082" class="Symbol">∀</a> <a id="5084" class="Symbol">(</a><a id="5085" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5085" class="Bound">from</a> <a id="5090" class="Symbol">:</a> <a id="5092" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5025" class="Bound">B</a> <a id="5094" class="Symbol">→</a> <a id="5096" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5023" class="Bound">A</a><a id="5097" class="Symbol">)</a> <a id="5099" class="Symbol">→</a>
          <a id="5111" class="Symbol">∀</a> <a id="5113" class="Symbol">(</a><a id="5114" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5114" class="Bound">from∘to</a> <a id="5122" class="Symbol">:</a> <a id="5124" class="Symbol">(∀</a> <a id="5127" class="Symbol">(</a><a id="5128" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5128" class="Bound">x</a> <a id="5130" class="Symbol">:</a> <a id="5132" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5023" class="Bound">A</a><a id="5133" class="Symbol">)</a> <a id="5135" class="Symbol">→</a> <a id="5137" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5085" class="Bound">from</a> <a id="5142" class="Symbol">(</a><a id="5143" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5058" class="Bound">to</a> <a id="5146" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5128" class="Bound">x</a><a id="5147" class="Symbol">)</a> <a id="5149" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="5151" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5128" class="Bound">x</a><a id="5152" class="Symbol">))</a> <a id="5155" class="Symbol">→</a>
          <a id="5167" class="Symbol">∀</a> <a id="5169" class="Symbol">(</a><a id="5170" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5170" class="Bound">to∘from</a> <a id="5178" class="Symbol">:</a> <a id="5180" class="Symbol">(∀</a> <a id="5183" class="Symbol">(</a><a id="5184" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5184" class="Bound">y</a> <a id="5186" class="Symbol">:</a> <a id="5188" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5025" class="Bound">B</a><a id="5189" class="Symbol">)</a> <a id="5191" class="Symbol">→</a> <a id="5193" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5058" class="Bound">to</a> <a id="5196" class="Symbol">(</a><a id="5197" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5085" class="Bound">from</a> <a id="5202" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5184" class="Bound">y</a><a id="5203" class="Symbol">)</a> <a id="5205" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="5207" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5184" class="Bound">y</a><a id="5208" class="Symbol">))</a> <a id="5211" class="Symbol">→</a>
          <a id="5223" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5023" class="Bound">A</a> <a id="5225" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5017" class="Datatype Operator">≃′</a> <a id="5228" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5025" class="Bound">B</a>

<a id="to′"></a><a id="5231" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5231" class="Function">to′</a> <a id="5235" class="Symbol">:</a> <a id="5237" class="Symbol">∀</a> <a id="5239" class="Symbol">{</a><a id="5240" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5240" class="Bound">A</a> <a id="5242" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5242" class="Bound">B</a> <a id="5244" class="Symbol">:</a> <a id="5246" class="PrimitiveType">Set</a><a id="5249" class="Symbol">}</a> <a id="5251" class="Symbol">→</a> <a id="5253" class="Symbol">(</a><a id="5254" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5240" class="Bound">A</a> <a id="5256" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5017" class="Datatype Operator">≃′</a> <a id="5259" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5242" class="Bound">B</a><a id="5260" class="Symbol">)</a> <a id="5262" class="Symbol">→</a> <a id="5264" class="Symbol">(</a><a id="5265" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5240" class="Bound">A</a> <a id="5267" class="Symbol">→</a> <a id="5269" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5242" class="Bound">B</a><a id="5270" class="Symbol">)</a>
<a id="5272" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5231" class="Function">to′</a> <a id="5276" class="Symbol">(</a><a id="5277" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5047" class="InductiveConstructor">mk-≃′</a> <a id="5283" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5283" class="Bound">f</a> <a id="5285" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5285" class="Bound">g</a> <a id="5287" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5287" class="Bound">g∘f</a> <a id="5291" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5291" class="Bound">f∘g</a><a id="5294" class="Symbol">)</a> <a id="5296" class="Symbol">=</a> <a id="5298" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5283" class="Bound">f</a>

<a id="from′"></a><a id="5301" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5301" class="Function">from′</a> <a id="5307" class="Symbol">:</a> <a id="5309" class="Symbol">∀</a> <a id="5311" class="Symbol">{</a><a id="5312" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5312" class="Bound">A</a> <a id="5314" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5314" class="Bound">B</a> <a id="5316" class="Symbol">:</a> <a id="5318" class="PrimitiveType">Set</a><a id="5321" class="Symbol">}</a> <a id="5323" class="Symbol">→</a> <a id="5325" class="Symbol">(</a><a id="5326" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5312" class="Bound">A</a> <a id="5328" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5017" class="Datatype Operator">≃′</a> <a id="5331" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5314" class="Bound">B</a><a id="5332" class="Symbol">)</a> <a id="5334" class="Symbol">→</a> <a id="5336" class="Symbol">(</a><a id="5337" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5314" class="Bound">B</a> <a id="5339" class="Symbol">→</a> <a id="5341" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5312" class="Bound">A</a><a id="5342" class="Symbol">)</a>
<a id="5344" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5301" class="Function">from′</a> <a id="5350" class="Symbol">(</a><a id="5351" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5047" class="InductiveConstructor">mk-≃′</a> <a id="5357" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5357" class="Bound">f</a> <a id="5359" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5359" class="Bound">g</a> <a id="5361" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5361" class="Bound">g∘f</a> <a id="5365" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5365" class="Bound">f∘g</a><a id="5368" class="Symbol">)</a> <a id="5370" class="Symbol">=</a> <a id="5372" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5359" class="Bound">g</a>

<a id="from∘to′"></a><a id="5375" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5375" class="Function">from∘to′</a> <a id="5384" class="Symbol">:</a> <a id="5386" class="Symbol">∀</a> <a id="5388" class="Symbol">{</a><a id="5389" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5389" class="Bound">A</a> <a id="5391" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5391" class="Bound">B</a> <a id="5393" class="Symbol">:</a> <a id="5395" class="PrimitiveType">Set</a><a id="5398" class="Symbol">}</a> <a id="5400" class="Symbol">→</a> <a id="5402" class="Symbol">(</a><a id="5403" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5403" class="Bound">A≃B</a> <a id="5407" class="Symbol">:</a> <a id="5409" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5389" class="Bound">A</a> <a id="5411" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5017" class="Datatype Operator">≃′</a> <a id="5414" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5391" class="Bound">B</a><a id="5415" class="Symbol">)</a> <a id="5417" class="Symbol">→</a> <a id="5419" class="Symbol">(∀</a> <a id="5422" class="Symbol">(</a><a id="5423" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5423" class="Bound">x</a> <a id="5425" class="Symbol">:</a> <a id="5427" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5389" class="Bound">A</a><a id="5428" class="Symbol">)</a> <a id="5430" class="Symbol">→</a> <a id="5432" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5301" class="Function">from′</a> <a id="5438" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5403" class="Bound">A≃B</a> <a id="5442" class="Symbol">(</a><a id="5443" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5231" class="Function">to′</a> <a id="5447" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5403" class="Bound">A≃B</a> <a id="5451" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5423" class="Bound">x</a><a id="5452" class="Symbol">)</a> <a id="5454" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="5456" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5423" class="Bound">x</a><a id="5457" class="Symbol">)</a>
<a id="5459" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5375" class="Function">from∘to′</a> <a id="5468" class="Symbol">(</a><a id="5469" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5047" class="InductiveConstructor">mk-≃′</a> <a id="5475" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5475" class="Bound">f</a> <a id="5477" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5477" class="Bound">g</a> <a id="5479" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5479" class="Bound">g∘f</a> <a id="5483" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5483" class="Bound">f∘g</a><a id="5486" class="Symbol">)</a> <a id="5488" class="Symbol">=</a> <a id="5490" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5479" class="Bound">g∘f</a>

<a id="to∘from′"></a><a id="5495" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5495" class="Function">to∘from′</a> <a id="5504" class="Symbol">:</a> <a id="5506" class="Symbol">∀</a> <a id="5508" class="Symbol">{</a><a id="5509" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5509" class="Bound">A</a> <a id="5511" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5511" class="Bound">B</a> <a id="5513" class="Symbol">:</a> <a id="5515" class="PrimitiveType">Set</a><a id="5518" class="Symbol">}</a> <a id="5520" class="Symbol">→</a> <a id="5522" class="Symbol">(</a><a id="5523" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5523" class="Bound">A≃B</a> <a id="5527" class="Symbol">:</a> <a id="5529" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5509" class="Bound">A</a> <a id="5531" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5017" class="Datatype Operator">≃′</a> <a id="5534" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5511" class="Bound">B</a><a id="5535" class="Symbol">)</a> <a id="5537" class="Symbol">→</a> <a id="5539" class="Symbol">(∀</a> <a id="5542" class="Symbol">(</a><a id="5543" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5543" class="Bound">y</a> <a id="5545" class="Symbol">:</a> <a id="5547" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5511" class="Bound">B</a><a id="5548" class="Symbol">)</a> <a id="5550" class="Symbol">→</a> <a id="5552" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5231" class="Function">to′</a> <a id="5556" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5523" class="Bound">A≃B</a> <a id="5560" class="Symbol">(</a><a id="5561" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5301" class="Function">from′</a> <a id="5567" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5523" class="Bound">A≃B</a> <a id="5571" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5543" class="Bound">y</a><a id="5572" class="Symbol">)</a> <a id="5574" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="5576" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5543" class="Bound">y</a><a id="5577" class="Symbol">)</a>
<a id="5579" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5495" class="Function">to∘from′</a> <a id="5588" class="Symbol">(</a><a id="5589" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5047" class="InductiveConstructor">mk-≃′</a> <a id="5595" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5595" class="Bound">f</a> <a id="5597" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5597" class="Bound">g</a> <a id="5599" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5599" class="Bound">g∘f</a> <a id="5603" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5603" class="Bound">f∘g</a><a id="5606" class="Symbol">)</a> <a id="5608" class="Symbol">=</a> <a id="5610" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#5603" class="Bound">f∘g</a>{% endraw %}</pre>
We construct values of the record type with the syntax:

    record
      { to    = f
      ; from  = g
      ; from∘to = g∘f
      ; to∘from = f∘g
      }

which corresponds to using the constructor of the corresponding
inductive type:

    mk-≃′ f g g∘f f∘g

where `f`, `g`, `g∘f`, and `f∘g` are values of suitable types.


## Isomorphism is an equivalence

Isomorphism is an equivalence, meaning that it is reflexive, symmetric,
and transitive.  To show isomorphism is reflexive, we take both `to`
and `from` to be the identity function.
<pre class="Agda">{% raw %}<a id="≃-refl"></a><a id="6179" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6179" class="Function">≃-refl</a> <a id="6186" class="Symbol">:</a> <a id="6188" class="Symbol">∀</a> <a id="6190" class="Symbol">{</a><a id="6191" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6191" class="Bound">A</a> <a id="6193" class="Symbol">:</a> <a id="6195" class="PrimitiveType">Set</a><a id="6198" class="Symbol">}</a> <a id="6200" class="Symbol">→</a> <a id="6202" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6191" class="Bound">A</a> <a id="6204" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4104" class="Record Operator">≃</a> <a id="6206" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6191" class="Bound">A</a>
<a id="6208" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6179" class="Function">≃-refl</a> <a id="6215" class="Symbol">=</a>
  <a id="6219" class="Keyword">record</a>
    <a id="6230" class="Symbol">{</a> <a id="6232" class="Field">to</a>      <a id="6240" class="Symbol">=</a> <a id="6242" class="Symbol">λ{</a><a id="6244" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6244" class="Bound">x</a> <a id="6246" class="Symbol">→</a> <a id="6248" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6244" class="Bound">x</a><a id="6249" class="Symbol">}</a>
    <a id="6255" class="Symbol">;</a> <a id="6257" class="Field">from</a>    <a id="6265" class="Symbol">=</a> <a id="6267" class="Symbol">λ{</a><a id="6269" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6269" class="Bound">y</a> <a id="6271" class="Symbol">→</a> <a id="6273" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6269" class="Bound">y</a><a id="6274" class="Symbol">}</a>
    <a id="6280" class="Symbol">;</a> <a id="6282" class="Field">from∘to</a> <a id="6290" class="Symbol">=</a> <a id="6292" class="Symbol">λ{</a><a id="6294" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6294" class="Bound">x</a> <a id="6296" class="Symbol">→</a> <a id="6298" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="6302" class="Symbol">}</a>
    <a id="6308" class="Symbol">;</a> <a id="6310" class="Field">to∘from</a> <a id="6318" class="Symbol">=</a> <a id="6320" class="Symbol">λ{</a><a id="6322" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6322" class="Bound">y</a> <a id="6324" class="Symbol">→</a> <a id="6326" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="6330" class="Symbol">}</a>
    <a id="6336" class="Symbol">}</a>{% endraw %}</pre>
In the above, `to` and `from` are both bound to identity functions,
and `from∘to` and `to∘from` are both bound to functions that discard
their argument and return `refl`.  In this case, `refl` alone is an
adequate proof since for the left inverse, `to (from x)`
simplifies to `x`, and similarly for the right inverse.

To show isomorphism is symmetric, we simply swap the roles of `to`
and `from`, and `from∘to` and `to∘from`.
<pre class="Agda">{% raw %}<a id="≃-sym"></a><a id="6789" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6789" class="Function">≃-sym</a> <a id="6795" class="Symbol">:</a> <a id="6797" class="Symbol">∀</a> <a id="6799" class="Symbol">{</a><a id="6800" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6800" class="Bound">A</a> <a id="6802" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6802" class="Bound">B</a> <a id="6804" class="Symbol">:</a> <a id="6806" class="PrimitiveType">Set</a><a id="6809" class="Symbol">}</a> <a id="6811" class="Symbol">→</a> <a id="6813" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6800" class="Bound">A</a> <a id="6815" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4104" class="Record Operator">≃</a> <a id="6817" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6802" class="Bound">B</a> <a id="6819" class="Symbol">→</a> <a id="6821" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6802" class="Bound">B</a> <a id="6823" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4104" class="Record Operator">≃</a> <a id="6825" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6800" class="Bound">A</a>
<a id="6827" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6789" class="Function">≃-sym</a> <a id="6833" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6833" class="Bound">A≃B</a> <a id="6837" class="Symbol">=</a>
  <a id="6841" class="Keyword">record</a>
    <a id="6852" class="Symbol">{</a> <a id="6854" class="Field">to</a>      <a id="6862" class="Symbol">=</a> <a id="6864" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4161" class="Field">from</a> <a id="6869" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6833" class="Bound">A≃B</a>
    <a id="6877" class="Symbol">;</a> <a id="6879" class="Field">from</a>    <a id="6887" class="Symbol">=</a> <a id="6889" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4144" class="Field">to</a>   <a id="6894" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6833" class="Bound">A≃B</a>
    <a id="6902" class="Symbol">;</a> <a id="6904" class="Field">from∘to</a> <a id="6912" class="Symbol">=</a> <a id="6914" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4220" class="Field">to∘from</a> <a id="6922" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6833" class="Bound">A≃B</a>
    <a id="6930" class="Symbol">;</a> <a id="6932" class="Field">to∘from</a> <a id="6940" class="Symbol">=</a> <a id="6942" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4178" class="Field">from∘to</a> <a id="6950" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6833" class="Bound">A≃B</a>
    <a id="6958" class="Symbol">}</a>{% endraw %}</pre>
To show isomorphism is transitive, we compose the `to` and `from` functions, and use
equational reasoning to combine the inverses.
<pre class="Agda">{% raw %}<a id="≃-trans"></a><a id="7115" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7115" class="Function">≃-trans</a> <a id="7123" class="Symbol">:</a> <a id="7125" class="Symbol">∀</a> <a id="7127" class="Symbol">{</a><a id="7128" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7128" class="Bound">A</a> <a id="7130" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7130" class="Bound">B</a> <a id="7132" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7132" class="Bound">C</a> <a id="7134" class="Symbol">:</a> <a id="7136" class="PrimitiveType">Set</a><a id="7139" class="Symbol">}</a> <a id="7141" class="Symbol">→</a> <a id="7143" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7128" class="Bound">A</a> <a id="7145" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4104" class="Record Operator">≃</a> <a id="7147" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7130" class="Bound">B</a> <a id="7149" class="Symbol">→</a> <a id="7151" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7130" class="Bound">B</a> <a id="7153" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4104" class="Record Operator">≃</a> <a id="7155" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7132" class="Bound">C</a> <a id="7157" class="Symbol">→</a> <a id="7159" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7128" class="Bound">A</a> <a id="7161" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4104" class="Record Operator">≃</a> <a id="7163" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7132" class="Bound">C</a>
<a id="7165" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7115" class="Function">≃-trans</a> <a id="7173" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7173" class="Bound">A≃B</a> <a id="7177" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7177" class="Bound">B≃C</a> <a id="7181" class="Symbol">=</a>
  <a id="7185" class="Keyword">record</a>
    <a id="7196" class="Symbol">{</a> <a id="7198" class="Field">to</a>       <a id="7207" class="Symbol">=</a> <a id="7209" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4144" class="Field">to</a>   <a id="7214" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7177" class="Bound">B≃C</a> <a id="7218" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#1960" class="Function Operator">∘</a> <a id="7220" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4144" class="Field">to</a>   <a id="7225" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7173" class="Bound">A≃B</a>
    <a id="7233" class="Symbol">;</a> <a id="7235" class="Field">from</a>     <a id="7244" class="Symbol">=</a> <a id="7246" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4161" class="Field">from</a> <a id="7251" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7173" class="Bound">A≃B</a> <a id="7255" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#1960" class="Function Operator">∘</a> <a id="7257" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4161" class="Field">from</a> <a id="7262" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7177" class="Bound">B≃C</a>
    <a id="7270" class="Symbol">;</a> <a id="7272" class="Field">from∘to</a>  <a id="7281" class="Symbol">=</a> <a id="7283" class="Symbol">λ{</a><a id="7285" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7285" class="Bound">x</a> <a id="7287" class="Symbol">→</a>
        <a id="7297" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#3962" class="Function Operator">begin</a>
          <a id="7313" class="Symbol">(</a><a id="7314" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4161" class="Field">from</a> <a id="7319" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7173" class="Bound">A≃B</a> <a id="7323" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#1960" class="Function Operator">∘</a> <a id="7325" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4161" class="Field">from</a> <a id="7330" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7177" class="Bound">B≃C</a><a id="7333" class="Symbol">)</a> <a id="7335" class="Symbol">((</a><a id="7337" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4144" class="Field">to</a> <a id="7340" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7177" class="Bound">B≃C</a> <a id="7344" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#1960" class="Function Operator">∘</a> <a id="7346" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4144" class="Field">to</a> <a id="7349" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7173" class="Bound">A≃B</a><a id="7352" class="Symbol">)</a> <a id="7354" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7285" class="Bound">x</a><a id="7355" class="Symbol">)</a>
        <a id="7365" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4020" class="Function Operator">≡⟨⟩</a>
          <a id="7379" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4161" class="Field">from</a> <a id="7384" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7173" class="Bound">A≃B</a> <a id="7388" class="Symbol">(</a><a id="7389" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4161" class="Field">from</a> <a id="7394" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7177" class="Bound">B≃C</a> <a id="7398" class="Symbol">(</a><a id="7399" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4144" class="Field">to</a> <a id="7402" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7177" class="Bound">B≃C</a> <a id="7406" class="Symbol">(</a><a id="7407" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4144" class="Field">to</a> <a id="7410" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7173" class="Bound">A≃B</a> <a id="7414" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7285" class="Bound">x</a><a id="7415" class="Symbol">)))</a>
        <a id="7427" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">≡⟨</a> <a id="7430" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="7435" class="Symbol">(</a><a id="7436" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4161" class="Field">from</a> <a id="7441" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7173" class="Bound">A≃B</a><a id="7444" class="Symbol">)</a> <a id="7446" class="Symbol">(</a><a id="7447" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4178" class="Field">from∘to</a> <a id="7455" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7177" class="Bound">B≃C</a> <a id="7459" class="Symbol">(</a><a id="7460" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4144" class="Field">to</a> <a id="7463" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7173" class="Bound">A≃B</a> <a id="7467" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7285" class="Bound">x</a><a id="7468" class="Symbol">))</a> <a id="7471" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">⟩</a>
          <a id="7483" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4161" class="Field">from</a> <a id="7488" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7173" class="Bound">A≃B</a> <a id="7492" class="Symbol">(</a><a id="7493" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4144" class="Field">to</a> <a id="7496" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7173" class="Bound">A≃B</a> <a id="7500" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7285" class="Bound">x</a><a id="7501" class="Symbol">)</a>
        <a id="7511" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">≡⟨</a> <a id="7514" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4178" class="Field">from∘to</a> <a id="7522" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7173" class="Bound">A≃B</a> <a id="7526" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7285" class="Bound">x</a> <a id="7528" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">⟩</a>
          <a id="7540" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7285" class="Bound">x</a>
        <a id="7550" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4260" class="Function Operator">∎</a><a id="7551" class="Symbol">}</a>
    <a id="7557" class="Symbol">;</a> <a id="7559" class="Field">to∘from</a> <a id="7567" class="Symbol">=</a> <a id="7569" class="Symbol">λ{</a><a id="7571" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7571" class="Bound">y</a> <a id="7573" class="Symbol">→</a>
        <a id="7583" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#3962" class="Function Operator">begin</a>
          <a id="7599" class="Symbol">(</a><a id="7600" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4144" class="Field">to</a> <a id="7603" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7177" class="Bound">B≃C</a> <a id="7607" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#1960" class="Function Operator">∘</a> <a id="7609" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4144" class="Field">to</a> <a id="7612" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7173" class="Bound">A≃B</a><a id="7615" class="Symbol">)</a> <a id="7617" class="Symbol">((</a><a id="7619" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4161" class="Field">from</a> <a id="7624" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7173" class="Bound">A≃B</a> <a id="7628" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#1960" class="Function Operator">∘</a> <a id="7630" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4161" class="Field">from</a> <a id="7635" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7177" class="Bound">B≃C</a><a id="7638" class="Symbol">)</a> <a id="7640" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7571" class="Bound">y</a><a id="7641" class="Symbol">)</a>
        <a id="7651" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4020" class="Function Operator">≡⟨⟩</a>
          <a id="7665" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4144" class="Field">to</a> <a id="7668" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7177" class="Bound">B≃C</a> <a id="7672" class="Symbol">(</a><a id="7673" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4144" class="Field">to</a> <a id="7676" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7173" class="Bound">A≃B</a> <a id="7680" class="Symbol">(</a><a id="7681" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4161" class="Field">from</a> <a id="7686" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7173" class="Bound">A≃B</a> <a id="7690" class="Symbol">(</a><a id="7691" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4161" class="Field">from</a> <a id="7696" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7177" class="Bound">B≃C</a> <a id="7700" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7571" class="Bound">y</a><a id="7701" class="Symbol">)))</a>
        <a id="7713" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">≡⟨</a> <a id="7716" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="7721" class="Symbol">(</a><a id="7722" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4144" class="Field">to</a> <a id="7725" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7177" class="Bound">B≃C</a><a id="7728" class="Symbol">)</a> <a id="7730" class="Symbol">(</a><a id="7731" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4220" class="Field">to∘from</a> <a id="7739" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7173" class="Bound">A≃B</a> <a id="7743" class="Symbol">(</a><a id="7744" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4161" class="Field">from</a> <a id="7749" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7177" class="Bound">B≃C</a> <a id="7753" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7571" class="Bound">y</a><a id="7754" class="Symbol">))</a> <a id="7757" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">⟩</a>
          <a id="7769" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4144" class="Field">to</a> <a id="7772" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7177" class="Bound">B≃C</a> <a id="7776" class="Symbol">(</a><a id="7777" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4161" class="Field">from</a> <a id="7782" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7177" class="Bound">B≃C</a> <a id="7786" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7571" class="Bound">y</a><a id="7787" class="Symbol">)</a>
        <a id="7797" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">≡⟨</a> <a id="7800" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4220" class="Field">to∘from</a> <a id="7808" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7177" class="Bound">B≃C</a> <a id="7812" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7571" class="Bound">y</a> <a id="7814" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">⟩</a>
          <a id="7826" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7571" class="Bound">y</a>
        <a id="7836" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4260" class="Function Operator">∎</a><a id="7837" class="Symbol">}</a>
     <a id="7844" class="Symbol">}</a>{% endraw %}</pre>


## Equational reasoning for isomorphism

It is straightforward to support a variant of equational reasoning for
isomorphism.  We essentially copy the previous definition for
of equality.  We omit the form that corresponds to `_≡⟨⟩_`, since
trivial isomorphisms arise far less often than trivial equalities.

<pre class="Agda">{% raw %}<a id="8180" class="Keyword">module</a> <a id="≃-Reasoning"></a><a id="8187" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8187" class="Module">≃-Reasoning</a> <a id="8199" class="Keyword">where</a>

  <a id="8208" class="Keyword">infix</a>  <a id="8215" class="Number">1</a> <a id="8217" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8263" class="Function Operator">≃-begin_</a>
  <a id="8228" class="Keyword">infixr</a> <a id="8235" class="Number">2</a> <a id="8237" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8327" class="Function Operator">_≃⟨_⟩_</a>
  <a id="8246" class="Keyword">infix</a>  <a id="8253" class="Number">3</a> <a id="8255" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8422" class="Function Operator">_≃-∎</a>

  <a id="≃-Reasoning.≃-begin_"></a><a id="8263" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8263" class="Function Operator">≃-begin_</a> <a id="8272" class="Symbol">:</a> <a id="8274" class="Symbol">∀</a> <a id="8276" class="Symbol">{</a><a id="8277" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8277" class="Bound">A</a> <a id="8279" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8279" class="Bound">B</a> <a id="8281" class="Symbol">:</a> <a id="8283" class="PrimitiveType">Set</a><a id="8286" class="Symbol">}</a> <a id="8288" class="Symbol">→</a> <a id="8290" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8277" class="Bound">A</a> <a id="8292" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4104" class="Record Operator">≃</a> <a id="8294" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8279" class="Bound">B</a> <a id="8296" class="Symbol">→</a> <a id="8298" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8277" class="Bound">A</a> <a id="8300" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4104" class="Record Operator">≃</a> <a id="8302" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8279" class="Bound">B</a>
  <a id="8306" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8263" class="Function Operator">≃-begin</a> <a id="8314" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8314" class="Bound">A≃B</a> <a id="8318" class="Symbol">=</a> <a id="8320" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8314" class="Bound">A≃B</a>

  <a id="≃-Reasoning._≃⟨_⟩_"></a><a id="8327" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8327" class="Function Operator">_≃⟨_⟩_</a> <a id="8334" class="Symbol">:</a> <a id="8336" class="Symbol">∀</a> <a id="8338" class="Symbol">(</a><a id="8339" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8339" class="Bound">A</a> <a id="8341" class="Symbol">:</a> <a id="8343" class="PrimitiveType">Set</a><a id="8346" class="Symbol">)</a> <a id="8348" class="Symbol">{</a><a id="8349" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8349" class="Bound">B</a> <a id="8351" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8351" class="Bound">C</a> <a id="8353" class="Symbol">:</a> <a id="8355" class="PrimitiveType">Set</a><a id="8358" class="Symbol">}</a> <a id="8360" class="Symbol">→</a> <a id="8362" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8339" class="Bound">A</a> <a id="8364" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4104" class="Record Operator">≃</a> <a id="8366" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8349" class="Bound">B</a> <a id="8368" class="Symbol">→</a> <a id="8370" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8349" class="Bound">B</a> <a id="8372" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4104" class="Record Operator">≃</a> <a id="8374" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8351" class="Bound">C</a> <a id="8376" class="Symbol">→</a> <a id="8378" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8339" class="Bound">A</a> <a id="8380" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4104" class="Record Operator">≃</a> <a id="8382" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8351" class="Bound">C</a>
  <a id="8386" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8386" class="Bound">A</a> <a id="8388" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8327" class="Function Operator">≃⟨</a> <a id="8391" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8391" class="Bound">A≃B</a> <a id="8395" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8327" class="Function Operator">⟩</a> <a id="8397" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8397" class="Bound">B≃C</a> <a id="8401" class="Symbol">=</a> <a id="8403" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#7115" class="Function">≃-trans</a> <a id="8411" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8391" class="Bound">A≃B</a> <a id="8415" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8397" class="Bound">B≃C</a>

  <a id="≃-Reasoning._≃-∎"></a><a id="8422" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8422" class="Function Operator">_≃-∎</a> <a id="8427" class="Symbol">:</a> <a id="8429" class="Symbol">∀</a> <a id="8431" class="Symbol">(</a><a id="8432" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8432" class="Bound">A</a> <a id="8434" class="Symbol">:</a> <a id="8436" class="PrimitiveType">Set</a><a id="8439" class="Symbol">)</a> <a id="8441" class="Symbol">→</a> <a id="8443" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8432" class="Bound">A</a> <a id="8445" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4104" class="Record Operator">≃</a> <a id="8447" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8432" class="Bound">A</a>
  <a id="8451" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8451" class="Bound">A</a> <a id="8453" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8422" class="Function Operator">≃-∎</a> <a id="8457" class="Symbol">=</a> <a id="8459" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#6179" class="Function">≃-refl</a>

<a id="8467" class="Keyword">open</a> <a id="8472" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8187" class="Module">≃-Reasoning</a>{% endraw %}</pre>


## Embedding

We also need the notion of *embedding*, which is a weakening of
isomorphism.  While an isomorphism shows that two types are in
one-to-one correspondence, and embedding shows that the first type is
included in the second; or, equivalently, that there is a many-to-one
correspondence between the second type and the first.

Here is the formal definition of embedding.
<pre class="Agda">{% raw %}<a id="8890" class="Keyword">infix</a> <a id="8896" class="Number">0</a> <a id="8898" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8909" class="Record Operator">_≲_</a>
<a id="8902" class="Keyword">record</a> <a id="_≲_"></a><a id="8909" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8909" class="Record Operator">_≲_</a> <a id="8913" class="Symbol">(</a><a id="8914" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8914" class="Bound">A</a> <a id="8916" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8916" class="Bound">B</a> <a id="8918" class="Symbol">:</a> <a id="8920" class="PrimitiveType">Set</a><a id="8923" class="Symbol">)</a> <a id="8925" class="Symbol">:</a> <a id="8927" class="PrimitiveType">Set</a> <a id="8931" class="Keyword">where</a>
  <a id="8939" class="Keyword">field</a>
    <a id="_≲_.to"></a><a id="8949" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8949" class="Field">to</a>      <a id="8957" class="Symbol">:</a> <a id="8959" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8914" class="Bound">A</a> <a id="8961" class="Symbol">→</a> <a id="8963" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8916" class="Bound">B</a>
    <a id="_≲_.from"></a><a id="8969" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8969" class="Field">from</a>    <a id="8977" class="Symbol">:</a> <a id="8979" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8916" class="Bound">B</a> <a id="8981" class="Symbol">→</a> <a id="8983" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8914" class="Bound">A</a>
    <a id="_≲_.from∘to"></a><a id="8989" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8989" class="Field">from∘to</a> <a id="8997" class="Symbol">:</a> <a id="8999" class="Symbol">∀</a> <a id="9001" class="Symbol">(</a><a id="9002" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9002" class="Bound">x</a> <a id="9004" class="Symbol">:</a> <a id="9006" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8914" class="Bound">A</a><a id="9007" class="Symbol">)</a> <a id="9009" class="Symbol">→</a> <a id="9011" class="Field">from</a> <a id="9016" class="Symbol">(</a><a id="9017" class="Field">to</a> <a id="9020" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9002" class="Bound">x</a><a id="9021" class="Symbol">)</a> <a id="9023" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="9025" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9002" class="Bound">x</a>
<a id="9027" class="Keyword">open</a> <a id="9032" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8909" class="Module Operator">_≲_</a>{% endraw %}</pre>
It is the same as an isomorphism, save that it lacks the `to∘from` field.
Hence, we know that `from` is a right-identity for `to`, but not that `to`
is a left-identity fro `from`.

Embedding is reflexive and transitive, but not symmetric.  The proofs are cut down
versions of the similar proofs for isomorphism, simply dropping the
right inverses.
<pre class="Agda">{% raw %}<a id="≲-refl"></a><a id="9408" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9408" class="Function">≲-refl</a> <a id="9415" class="Symbol">:</a> <a id="9417" class="Symbol">∀</a> <a id="9419" class="Symbol">{</a><a id="9420" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9420" class="Bound">A</a> <a id="9422" class="Symbol">:</a> <a id="9424" class="PrimitiveType">Set</a><a id="9427" class="Symbol">}</a> <a id="9429" class="Symbol">→</a> <a id="9431" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9420" class="Bound">A</a> <a id="9433" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8909" class="Record Operator">≲</a> <a id="9435" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9420" class="Bound">A</a>
<a id="9437" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9408" class="Function">≲-refl</a> <a id="9444" class="Symbol">=</a>
  <a id="9448" class="Keyword">record</a>
    <a id="9459" class="Symbol">{</a> <a id="9461" class="Field">to</a>      <a id="9469" class="Symbol">=</a> <a id="9471" class="Symbol">λ{</a><a id="9473" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9473" class="Bound">x</a> <a id="9475" class="Symbol">→</a> <a id="9477" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9473" class="Bound">x</a><a id="9478" class="Symbol">}</a>
    <a id="9484" class="Symbol">;</a> <a id="9486" class="Field">from</a>    <a id="9494" class="Symbol">=</a> <a id="9496" class="Symbol">λ{</a><a id="9498" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9498" class="Bound">y</a> <a id="9500" class="Symbol">→</a> <a id="9502" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9498" class="Bound">y</a><a id="9503" class="Symbol">}</a>
    <a id="9509" class="Symbol">;</a> <a id="9511" class="Field">from∘to</a> <a id="9519" class="Symbol">=</a> <a id="9521" class="Symbol">λ{</a><a id="9523" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9523" class="Bound">x</a> <a id="9525" class="Symbol">→</a> <a id="9527" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="9531" class="Symbol">}</a>
    <a id="9537" class="Symbol">}</a>

<a id="≲-trans"></a><a id="9540" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9540" class="Function">≲-trans</a> <a id="9548" class="Symbol">:</a> <a id="9550" class="Symbol">∀</a> <a id="9552" class="Symbol">{</a><a id="9553" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9553" class="Bound">A</a> <a id="9555" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9555" class="Bound">B</a> <a id="9557" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9557" class="Bound">C</a> <a id="9559" class="Symbol">:</a> <a id="9561" class="PrimitiveType">Set</a><a id="9564" class="Symbol">}</a> <a id="9566" class="Symbol">→</a> <a id="9568" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9553" class="Bound">A</a> <a id="9570" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8909" class="Record Operator">≲</a> <a id="9572" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9555" class="Bound">B</a> <a id="9574" class="Symbol">→</a> <a id="9576" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9555" class="Bound">B</a> <a id="9578" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8909" class="Record Operator">≲</a> <a id="9580" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9557" class="Bound">C</a> <a id="9582" class="Symbol">→</a> <a id="9584" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9553" class="Bound">A</a> <a id="9586" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8909" class="Record Operator">≲</a> <a id="9588" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9557" class="Bound">C</a>
<a id="9590" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9540" class="Function">≲-trans</a> <a id="9598" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9598" class="Bound">A≲B</a> <a id="9602" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9602" class="Bound">B≲C</a> <a id="9606" class="Symbol">=</a>
  <a id="9610" class="Keyword">record</a>
    <a id="9621" class="Symbol">{</a> <a id="9623" class="Field">to</a>      <a id="9631" class="Symbol">=</a> <a id="9633" class="Symbol">λ{</a><a id="9635" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9635" class="Bound">x</a> <a id="9637" class="Symbol">→</a> <a id="9639" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8949" class="Field">to</a>   <a id="9644" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9602" class="Bound">B≲C</a> <a id="9648" class="Symbol">(</a><a id="9649" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8949" class="Field">to</a>   <a id="9654" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9598" class="Bound">A≲B</a> <a id="9658" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9635" class="Bound">x</a><a id="9659" class="Symbol">)}</a>
    <a id="9666" class="Symbol">;</a> <a id="9668" class="Field">from</a>    <a id="9676" class="Symbol">=</a> <a id="9678" class="Symbol">λ{</a><a id="9680" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9680" class="Bound">y</a> <a id="9682" class="Symbol">→</a> <a id="9684" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8969" class="Field">from</a> <a id="9689" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9598" class="Bound">A≲B</a> <a id="9693" class="Symbol">(</a><a id="9694" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8969" class="Field">from</a> <a id="9699" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9602" class="Bound">B≲C</a> <a id="9703" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9680" class="Bound">y</a><a id="9704" class="Symbol">)}</a>
    <a id="9711" class="Symbol">;</a> <a id="9713" class="Field">from∘to</a> <a id="9721" class="Symbol">=</a> <a id="9723" class="Symbol">λ{</a><a id="9725" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9725" class="Bound">x</a> <a id="9727" class="Symbol">→</a>
        <a id="9737" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#3962" class="Function Operator">begin</a>
          <a id="9753" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8969" class="Field">from</a> <a id="9758" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9598" class="Bound">A≲B</a> <a id="9762" class="Symbol">(</a><a id="9763" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8969" class="Field">from</a> <a id="9768" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9602" class="Bound">B≲C</a> <a id="9772" class="Symbol">(</a><a id="9773" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8949" class="Field">to</a> <a id="9776" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9602" class="Bound">B≲C</a> <a id="9780" class="Symbol">(</a><a id="9781" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8949" class="Field">to</a> <a id="9784" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9598" class="Bound">A≲B</a> <a id="9788" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9725" class="Bound">x</a><a id="9789" class="Symbol">)))</a>
        <a id="9801" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">≡⟨</a> <a id="9804" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="9809" class="Symbol">(</a><a id="9810" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8969" class="Field">from</a> <a id="9815" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9598" class="Bound">A≲B</a><a id="9818" class="Symbol">)</a> <a id="9820" class="Symbol">(</a><a id="9821" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8989" class="Field">from∘to</a> <a id="9829" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9602" class="Bound">B≲C</a> <a id="9833" class="Symbol">(</a><a id="9834" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8949" class="Field">to</a> <a id="9837" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9598" class="Bound">A≲B</a> <a id="9841" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9725" class="Bound">x</a><a id="9842" class="Symbol">))</a> <a id="9845" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">⟩</a>
          <a id="9857" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8969" class="Field">from</a> <a id="9862" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9598" class="Bound">A≲B</a> <a id="9866" class="Symbol">(</a><a id="9867" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8949" class="Field">to</a> <a id="9870" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9598" class="Bound">A≲B</a> <a id="9874" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9725" class="Bound">x</a><a id="9875" class="Symbol">)</a>
        <a id="9885" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">≡⟨</a> <a id="9888" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8989" class="Field">from∘to</a> <a id="9896" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9598" class="Bound">A≲B</a> <a id="9900" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9725" class="Bound">x</a> <a id="9902" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">⟩</a>
          <a id="9914" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9725" class="Bound">x</a>
        <a id="9924" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4260" class="Function Operator">∎</a><a id="9925" class="Symbol">}</a>
     <a id="9932" class="Symbol">}</a>{% endraw %}</pre>
It is also easy to see that if two types embed in each other,
and the embedding functions correspond, then they are isomorphic.
This is a weak form of anti-symmetry.
<pre class="Agda">{% raw %}<a id="≲-antisym"></a><a id="10124" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10124" class="Function">≲-antisym</a> <a id="10134" class="Symbol">:</a> <a id="10136" class="Symbol">∀</a> <a id="10138" class="Symbol">{</a><a id="10139" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10139" class="Bound">A</a> <a id="10141" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10141" class="Bound">B</a> <a id="10143" class="Symbol">:</a> <a id="10145" class="PrimitiveType">Set</a><a id="10148" class="Symbol">}</a> <a id="10150" class="Symbol">→</a> <a id="10152" class="Symbol">(</a><a id="10153" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10153" class="Bound">A≲B</a> <a id="10157" class="Symbol">:</a> <a id="10159" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10139" class="Bound">A</a> <a id="10161" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8909" class="Record Operator">≲</a> <a id="10163" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10141" class="Bound">B</a><a id="10164" class="Symbol">)</a> <a id="10166" class="Symbol">→</a> <a id="10168" class="Symbol">(</a><a id="10169" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10169" class="Bound">B≲A</a> <a id="10173" class="Symbol">:</a> <a id="10175" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10141" class="Bound">B</a> <a id="10177" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8909" class="Record Operator">≲</a> <a id="10179" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10139" class="Bound">A</a><a id="10180" class="Symbol">)</a> <a id="10182" class="Symbol">→</a>
  <a id="10186" class="Symbol">(</a><a id="10187" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8949" class="Field">to</a> <a id="10190" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10153" class="Bound">A≲B</a> <a id="10194" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="10196" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8969" class="Field">from</a> <a id="10201" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10169" class="Bound">B≲A</a><a id="10204" class="Symbol">)</a> <a id="10206" class="Symbol">→</a> <a id="10208" class="Symbol">(</a><a id="10209" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8969" class="Field">from</a> <a id="10214" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10153" class="Bound">A≲B</a> <a id="10218" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="10220" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8949" class="Field">to</a> <a id="10223" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10169" class="Bound">B≲A</a><a id="10226" class="Symbol">)</a> <a id="10228" class="Symbol">→</a> <a id="10230" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10139" class="Bound">A</a> <a id="10232" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#4104" class="Record Operator">≃</a> <a id="10234" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10141" class="Bound">B</a>
<a id="10236" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10124" class="Function">≲-antisym</a> <a id="10246" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10246" class="Bound">A≲B</a> <a id="10250" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10250" class="Bound">B≲A</a> <a id="10254" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10254" class="Bound">to≡from</a> <a id="10262" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10262" class="Bound">from≡to</a> <a id="10270" class="Symbol">=</a>
  <a id="10274" class="Keyword">record</a>
    <a id="10285" class="Symbol">{</a> <a id="10287" class="Field">to</a>      <a id="10295" class="Symbol">=</a> <a id="10297" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8949" class="Field">to</a> <a id="10300" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10246" class="Bound">A≲B</a>
    <a id="10308" class="Symbol">;</a> <a id="10310" class="Field">from</a>    <a id="10318" class="Symbol">=</a> <a id="10320" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8969" class="Field">from</a> <a id="10325" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10246" class="Bound">A≲B</a>
    <a id="10333" class="Symbol">;</a> <a id="10335" class="Field">from∘to</a> <a id="10343" class="Symbol">=</a> <a id="10345" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8989" class="Field">from∘to</a> <a id="10353" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10246" class="Bound">A≲B</a>
    <a id="10361" class="Symbol">;</a> <a id="10363" class="Field">to∘from</a> <a id="10371" class="Symbol">=</a> <a id="10373" class="Symbol">λ{</a><a id="10375" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10375" class="Bound">y</a> <a id="10377" class="Symbol">→</a>
        <a id="10387" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#3962" class="Function Operator">begin</a>
          <a id="10403" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8949" class="Field">to</a> <a id="10406" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10246" class="Bound">A≲B</a> <a id="10410" class="Symbol">(</a><a id="10411" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8969" class="Field">from</a> <a id="10416" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10246" class="Bound">A≲B</a> <a id="10420" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10375" class="Bound">y</a><a id="10421" class="Symbol">)</a>
        <a id="10431" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">≡⟨</a> <a id="10434" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1075" class="Function">cong</a> <a id="10439" class="Symbol">(</a><a id="10440" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8949" class="Field">to</a> <a id="10443" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10246" class="Bound">A≲B</a><a id="10446" class="Symbol">)</a> <a id="10448" class="Symbol">(</a><a id="10449" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1179" class="Function">cong-app</a> <a id="10458" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10262" class="Bound">from≡to</a> <a id="10466" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10375" class="Bound">y</a><a id="10467" class="Symbol">)</a> <a id="10469" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">⟩</a>
          <a id="10481" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8949" class="Field">to</a> <a id="10484" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10246" class="Bound">A≲B</a> <a id="10488" class="Symbol">(</a><a id="10489" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8949" class="Field">to</a> <a id="10492" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10250" class="Bound">B≲A</a> <a id="10496" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10375" class="Bound">y</a><a id="10497" class="Symbol">)</a>
        <a id="10507" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">≡⟨</a> <a id="10510" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1179" class="Function">cong-app</a> <a id="10519" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10254" class="Bound">to≡from</a> <a id="10527" class="Symbol">(</a><a id="10528" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8949" class="Field">to</a> <a id="10531" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10250" class="Bound">B≲A</a> <a id="10535" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10375" class="Bound">y</a><a id="10536" class="Symbol">)</a> <a id="10538" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">⟩</a>
          <a id="10550" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8969" class="Field">from</a> <a id="10555" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10250" class="Bound">B≲A</a> <a id="10559" class="Symbol">(</a><a id="10560" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8949" class="Field">to</a> <a id="10563" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10250" class="Bound">B≲A</a> <a id="10567" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10375" class="Bound">y</a><a id="10568" class="Symbol">)</a>
        <a id="10578" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">≡⟨</a> <a id="10581" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8989" class="Field">from∘to</a> <a id="10589" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10250" class="Bound">B≲A</a> <a id="10593" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10375" class="Bound">y</a> <a id="10595" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4079" class="Function Operator">⟩</a>
          <a id="10607" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#10375" class="Bound">y</a>
        <a id="10617" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#4260" class="Function Operator">∎</a><a id="10618" class="Symbol">}</a>
    <a id="10624" class="Symbol">}</a>{% endraw %}</pre>
The first three components are copied from the embedding, while the
last combines the left inverse of `B ≲ A` with the equivalences of
the `to` and `from` components from the two embeddings to obtain
the right inverse of the isomorphism.

## Equational reasoning for embedding

We can also support tabular reasoning for embedding,
analogous to that used for isomorphism.

<pre class="Agda">{% raw %}<a id="11022" class="Keyword">module</a> <a id="≲-Reasoning"></a><a id="11029" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11029" class="Module">≲-Reasoning</a> <a id="11041" class="Keyword">where</a>

  <a id="11050" class="Keyword">infix</a>  <a id="11057" class="Number">1</a> <a id="11059" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11105" class="Function Operator">≲-begin_</a>
  <a id="11070" class="Keyword">infixr</a> <a id="11077" class="Number">2</a> <a id="11079" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11170" class="Function Operator">_≲⟨_⟩_</a>
  <a id="11088" class="Keyword">infix</a>  <a id="11095" class="Number">3</a> <a id="11097" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11265" class="Function Operator">_≲-∎</a>

  <a id="≲-Reasoning.≲-begin_"></a><a id="11105" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11105" class="Function Operator">≲-begin_</a> <a id="11114" class="Symbol">:</a> <a id="11116" class="Symbol">∀</a> <a id="11118" class="Symbol">{</a><a id="11119" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11119" class="Bound">A</a> <a id="11121" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11121" class="Bound">B</a> <a id="11123" class="Symbol">:</a> <a id="11125" class="PrimitiveType">Set</a><a id="11128" class="Symbol">}</a> <a id="11130" class="Symbol">→</a> <a id="11132" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11119" class="Bound">A</a> <a id="11134" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8909" class="Record Operator">≲</a> <a id="11136" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11121" class="Bound">B</a> <a id="11138" class="Symbol">→</a> <a id="11140" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11119" class="Bound">A</a> <a id="11142" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8909" class="Record Operator">≲</a> <a id="11144" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11121" class="Bound">B</a>
  <a id="11148" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11105" class="Function Operator">≲-begin</a> <a id="11156" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11156" class="Bound">A≲B</a> <a id="11160" class="Symbol">=</a> <a id="11162" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11156" class="Bound">A≲B</a>


  <a id="≲-Reasoning._≲⟨_⟩_"></a><a id="11170" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11170" class="Function Operator">_≲⟨_⟩_</a> <a id="11177" class="Symbol">:</a> <a id="11179" class="Symbol">∀</a> <a id="11181" class="Symbol">(</a><a id="11182" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11182" class="Bound">A</a> <a id="11184" class="Symbol">:</a> <a id="11186" class="PrimitiveType">Set</a><a id="11189" class="Symbol">)</a> <a id="11191" class="Symbol">{</a><a id="11192" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11192" class="Bound">B</a> <a id="11194" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11194" class="Bound">C</a> <a id="11196" class="Symbol">:</a> <a id="11198" class="PrimitiveType">Set</a><a id="11201" class="Symbol">}</a> <a id="11203" class="Symbol">→</a> <a id="11205" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11182" class="Bound">A</a> <a id="11207" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8909" class="Record Operator">≲</a> <a id="11209" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11192" class="Bound">B</a> <a id="11211" class="Symbol">→</a> <a id="11213" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11192" class="Bound">B</a> <a id="11215" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8909" class="Record Operator">≲</a> <a id="11217" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11194" class="Bound">C</a> <a id="11219" class="Symbol">→</a> <a id="11221" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11182" class="Bound">A</a> <a id="11223" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8909" class="Record Operator">≲</a> <a id="11225" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11194" class="Bound">C</a>
  <a id="11229" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11229" class="Bound">A</a> <a id="11231" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11170" class="Function Operator">≲⟨</a> <a id="11234" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11234" class="Bound">A≲B</a> <a id="11238" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11170" class="Function Operator">⟩</a> <a id="11240" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11240" class="Bound">B≲C</a> <a id="11244" class="Symbol">=</a> <a id="11246" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9540" class="Function">≲-trans</a> <a id="11254" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11234" class="Bound">A≲B</a> <a id="11258" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11240" class="Bound">B≲C</a>

  <a id="≲-Reasoning._≲-∎"></a><a id="11265" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11265" class="Function Operator">_≲-∎</a> <a id="11270" class="Symbol">:</a> <a id="11272" class="Symbol">∀</a> <a id="11274" class="Symbol">(</a><a id="11275" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11275" class="Bound">A</a> <a id="11277" class="Symbol">:</a> <a id="11279" class="PrimitiveType">Set</a><a id="11282" class="Symbol">)</a> <a id="11284" class="Symbol">→</a> <a id="11286" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11275" class="Bound">A</a> <a id="11288" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#8909" class="Record Operator">≲</a> <a id="11290" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11275" class="Bound">A</a>
  <a id="11294" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11294" class="Bound">A</a> <a id="11296" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11265" class="Function Operator">≲-∎</a> <a id="11300" class="Symbol">=</a> <a id="11302" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#9408" class="Function">≲-refl</a>

<a id="11310" class="Keyword">open</a> <a id="11315" href="{% endraw %}{{ site.baseurl }}{% link out/plfa/Isomorphism.md %}{% raw %}#11029" class="Module">≲-Reasoning</a>{% endraw %}</pre>


## Standard library

Definitions similar to those in this chapter can be found in the standard library.
<pre class="Agda">{% raw %}<a id="11457" class="Keyword">import</a> <a id="11464" href="https://agda.github.io/agda-stdlib/Function.html" class="Module">Function</a> <a id="11473" class="Keyword">using</a> <a id="11479" class="Symbol">(</a><a id="11480" href="https://agda.github.io/agda-stdlib/Function.html#759" class="Function Operator">_∘_</a><a id="11483" class="Symbol">)</a>
<a id="11485" class="Keyword">import</a> <a id="11492" href="https://agda.github.io/agda-stdlib/Function.Inverse.html" class="Module">Function.Inverse</a> <a id="11509" class="Keyword">using</a> <a id="11515" class="Symbol">(</a><a id="11516" href="https://agda.github.io/agda-stdlib/Function.Inverse.html#1914" class="Function Operator">_↔_</a><a id="11519" class="Symbol">)</a>
<a id="11521" class="Keyword">import</a> <a id="11528" href="https://agda.github.io/agda-stdlib/Function.LeftInverse.html" class="Module">Function.LeftInverse</a> <a id="11549" class="Keyword">using</a> <a id="11555" class="Symbol">(</a><a id="11556" href="https://agda.github.io/agda-stdlib/Function.LeftInverse.html#2352" class="Function Operator">_↞_</a><a id="11559" class="Symbol">)</a>{% endraw %}</pre>
Here `_↔_` corresponds to our `_≃_`, and `_↞_` corresponds to our `_≲_`.
However, we stick with our definitions, because those in the
standard library are less convenient: they depend on a nested record structure,
and are parameterised with regard to an arbitrary notion of equivalence.

## Unicode

This chapter uses the following unicode.

    ∘  U+2218  RING OPERATOR (\o, \circ, \comp)
    λ  U+03BB  GREEK SMALL LETTER LAMBDA (\lambda, \Gl)
    ≃  U+2243  ASYMPTOTICALLY EQUAL TO (\~-)
    ≲  U+2272  LESS-THAN OR EQUIVALENT TO (\<~)
